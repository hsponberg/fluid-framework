//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: src-delomboked/com/sponberg/fluid/util/DebugUtil.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/sponberg/fluid/util/DebugUtil.h"
#include "com/sponberg/fluid/util/Logger.h"
#include "java/io/PrintStream.h"
#include "java/lang/Integer.h"
#include "java/lang/StackTraceElement.h"
#include "java/lang/System.h"
#include "java/lang/Thread.h"

@implementation FFTDebugUtil

+ (void)printCurrentThreadStackTraceWithInt:(int)limit {
  [FFTDebugUtil printCurrentThreadStackTraceWithInt:limit withInt:2 withBoolean:NO withNSString:nil];
}

+ (void)printCurrentThreadStackTraceWithInt:(int)limit
                                    withInt:(int)skip
                                withBoolean:(BOOL)useSystemOut
                               withNSString:(NSString *)systemOutPrefix {
  int actualLimit = limit + skip;
  int count = 0;
  {
    IOSObjectArray *a__ = [((JavaLangThread *) nil_chk([JavaLangThread currentThread])) getStackTrace];
    JavaLangStackTraceElement * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    JavaLangStackTraceElement * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      JavaLangStackTraceElement *e = (*b__++);
      if (count < skip) {
        count++;
        continue;
      }
      NSString *tab = (count == skip) ? @"" : @"\t";
      if (useSystemOut) {
        [((JavaIoPrintStream *) nil_chk(JavaLangSystem_get_out_())) printlnWithNSString:[NSString stringWithFormat:@"%d %@%@%@", (count - skip), tab, systemOutPrefix, [((JavaLangStackTraceElement *) nil_chk(e)) description]]];
      }
      else {
        [FFTLogger debugWithId:[IOSClass classWithClass:[FFTDebugUtil class]] withNSString:@"{} {}{}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ [JavaLangInteger valueOfWithInt:(count - skip)], tab, [((JavaLangStackTraceElement *) nil_chk(e)) description] } count:3 type:[IOSClass classWithClass:[NSObject class]]]];
      }
      count++;
      if (count == actualLimit) {
        break;
      }
    }
  }
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "printCurrentThreadStackTraceWithInt:", "printCurrentThreadStackTrace", "V", 0x9, NULL },
    { "printCurrentThreadStackTraceWithInt:withInt:withBoolean:withNSString:", "printCurrentThreadStackTrace", "V", 0x9, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _FFTDebugUtil = { "DebugUtil", "com.sponberg.fluid.util", NULL, 0x1, 3, methods, 0, NULL, 0, NULL};
  return &_FFTDebugUtil;
}

@end
