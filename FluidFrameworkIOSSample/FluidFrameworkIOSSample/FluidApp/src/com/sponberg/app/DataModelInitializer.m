//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: src-delomboked/com/sponberg/app/DataModelInitializer.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/sponberg/app/DataModelInitializer.h"
#include "com/sponberg/fluid/FluidApp.h"
#include "com/sponberg/fluid/GlobalState.h"
#include "com/sponberg/fluid/SystemService.h"
#include "com/sponberg/fluid/layout/DataModelManager.h"
#include "java/lang/InterruptedException.h"
#include "java/lang/Thread.h"
#include "java/util/Date.h"

@implementation FADataModelInitializer

- (void)initialize__WithFFTFluidApp:(FFTFluidApp *)app {
  [((FFTFluidApp *) nil_chk(app)) setDataModelWithNSString:@"app" withId:app];
  [app setDataModelWithNSString:@"dt" withId:[[FADataModelInitializer_DateTime alloc] init]];
  [((FADataModelInitializer_$1 *) [[FADataModelInitializer_$1 alloc] initWithFFTFluidApp:app]) start];
}

- (IOSObjectArray *)getSupportedPlatforms {
  return nil;
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initialize__WithFFTFluidApp:", "initialize", "V", 0x1, NULL },
    { "getSupportedPlatforms", NULL, "[Ljava.lang.String;", 0x1, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _FADataModelInitializer = { "DataModelInitializer", "com.sponberg.app", NULL, 0x1, 3, methods, 0, NULL, 0, NULL};
  return &_FADataModelInitializer;
}

@end

@implementation FADataModelInitializer_DateTime

- (JavaUtilDate *)getTime {
  return [[JavaUtilDate alloc] init];
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getTime", NULL, "Ljava.util.Date;", 0x1, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static J2ObjcClassInfo _FADataModelInitializer_DateTime = { "DateTime", "com.sponberg.app", "DataModelInitializer", 0x9, 2, methods, 0, NULL, 0, NULL};
  return &_FADataModelInitializer_DateTime;
}

@end

@implementation FADataModelInitializer_$1

- (void)run {
  @try {
    while (YES) {
      [JavaLangThread sleepWithLong:1000];
      [((id<FFTSystemService>) nil_chk([((FFTFluidApp *) nil_chk(FFTGlobalState_get_fluidApp__())) getSystemService])) runOnUiThreadWithJavaLangRunnable:[[FADataModelInitializer_$1_$1 alloc] initWithFADataModelInitializer_$1:self]];
    }
  }
  @catch (JavaLangInterruptedException *e) {
    [((JavaLangInterruptedException *) nil_chk(e)) printStackTrace];
  }
}

- (id)initWithFFTFluidApp:(FFTFluidApp *)capture$0 {
  val$app_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL },
    { "initWithFFTFluidApp:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "val$app_", NULL, 0x1012, "Lcom.sponberg.fluid.FluidApp;", NULL,  },
  };
  static J2ObjcClassInfo _FADataModelInitializer_$1 = { "$1", "com.sponberg.app", "DataModelInitializer", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_FADataModelInitializer_$1;
}

@end

@implementation FADataModelInitializer_$1_$1

- (void)run {
  [((FFTDataModelManager *) nil_chk([((FFTFluidApp *) nil_chk(this$0_->val$app_)) getDataModelManager])) dataDidChangeWithNSString:@"dt" withNSStringArray:[IOSObjectArray arrayWithObjects:(id[]){ @"time" } count:1 type:[IOSClass classWithClass:[NSString class]]]];
}

- (id)initWithFADataModelInitializer_$1:(FADataModelInitializer_$1 *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL },
    { "initWithFADataModelInitializer_$1:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.sponberg.app.DataModelInitializer$1;", NULL,  },
  };
  static J2ObjcClassInfo _FADataModelInitializer_$1_$1 = { "$1", "com.sponberg.app", "DataModelInitializer$$1", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_FADataModelInitializer_$1_$1;
}

@end
